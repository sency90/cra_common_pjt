<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>test.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
ï»¿#include "gmock/gmock.h"
#ifdef _WIN32
#pragma execution_character_set("utf-8")
#include &lt;windows.h&gt;
#endif

#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
#include &lt;memory&gt;

#include "CarAssembleApp.h"
#include "PageEnum.h"

#ifndef CLEAR_SCREEN
#define CLEAR_SCREEN "\033[H\033[2J"
#endif

using ::testing::Test;
using ::testing::InSequence;
using ::testing::Return;
using ::testing::HasSubstr;

struct ExitCalled: public std::exception {};

class MockCarAssembleApp: public CarAssembleApp {
public:
<span style = "background-color:#dfd">    MOCK_METHOD(char *, GetInput, (), (override));</span>

<span style = "background-color:#dfd">    void ExitProgram() override {
        printf("ë°ì´ë°ì´\n");
        throw ExitCalled{};</span>
<span style = "background-color:#fdd">    }</span>
};

class CarAssembleAppTestFixture: public Test {
protected:

    CarAssembleApp app;
    const int NONE_SETTING_TYPE{ 0 };

    void SetSettings(
        int car_type,
        int engine_type,
        int brake_type,
<span style = "background-color:#dfd">        int steering_type</span>
    ) {
<span style = "background-color:#dfd">        app.car_type = CarTypeFactory::Create(car_type);
        app.engine_type = EngineTypeFactory::Create(engine_type);
        app.brake_type = BrakeTypeFactory::Create(brake_type);
        app.steering_type = SteeringTypeFactory::Create(steering_type);
    }</span>

<span style = "background-color:#dfd">    void SetUp() {</span>
#ifdef _WIN32
<span style = "background-color:#dfd">        SetConsoleOutputCP(CP_UTF8);
        SetConsoleCP(CP_UTF8);</span>
#endif
<span style = "background-color:#dfd">    }</span>
};

<span style = "background-color:#dfd">TEST_F(CarAssembleAppTestFixture, ValidateInput_WhenNotDigit) {
    std::string input = "a1";
    EXPECT_THROW({</span>
    app.ValidateInput(input.c_str(), PageEnum::eCarTypePage);
        }, std::invalid_argument);
<span style = "background-color:#dfd">}
TEST_F(CarAssembleAppTestFixture, ValidateInput_CarTypeNoOnCarTypePage) {
    std::vector&lt;std::string&gt; exception_inputs = { "0", "4" };
    for(auto input : exception_inputs) {
        EXPECT_THROW({ app.ValidateInput(input.c_str(), PageEnum::eCarTypePage); }, std::invalid_argument);
    }</span>

<span style = "background-color:#dfd">    std::vector&lt;std::string&gt; normal_inputs = { "1", "2", "3" };
    for(auto input : normal_inputs) {
        EXPECT_NO_THROW({ app.ValidateInput(input.c_str(), PageEnum::eCarTypePage); });
    }
}
TEST_F(CarAssembleAppTestFixture, ValidateInput_EngineTypeNoOnEnginePage) {
    std::vector&lt;std::string&gt; exception_inputs = { "-1", "5" };
    for(auto input : exception_inputs) {
        EXPECT_THROW({ app.ValidateInput(input.c_str(), PageEnum::eEnginePage); }, std::invalid_argument);
    }</span>

<span style = "background-color:#dfd">    std::vector&lt;std::string&gt; normal_inputs = { "0", "1", "2", "3", "4" };
    for(auto input : normal_inputs) {
        EXPECT_NO_THROW({ app.ValidateInput(input.c_str(), PageEnum::eEnginePage); });
    }
}
TEST_F(CarAssembleAppTestFixture, ValidateInput_BrakeTypeNoOnBrakePage) {
    std::vector&lt;std::string&gt; exception_inputs = { "-1", "4" };
    for(auto input : exception_inputs) {
        EXPECT_THROW({ app.ValidateInput(input.c_str(), PageEnum::eBrakePage); }, std::invalid_argument);
    }</span>

<span style = "background-color:#dfd">    std::vector&lt;std::string&gt; normal_inputs = { "0", "1", "2", "3" };
    for(auto input : normal_inputs) {
        EXPECT_NO_THROW({ app.ValidateInput(input.c_str(), PageEnum::eBrakePage); });
    }
}
TEST_F(CarAssembleAppTestFixture, ValidateInput_SteeringTypeNoOnSteeringPage) {
    std::vector&lt;std::string&gt; exception_inputs = { "-1", "3" };
    for(auto input : exception_inputs) {
        EXPECT_THROW({ app.ValidateInput(input.c_str(), PageEnum::eSteeringPage); }, std::invalid_argument);
    }</span>

<span style = "background-color:#dfd">    std::vector&lt;std::string&gt; normal_inputs = { "0", "1", "2" };
    for(auto input : normal_inputs) {
        EXPECT_NO_THROW({ app.ValidateInput(input.c_str(), PageEnum::eSteeringPage); });
    }
}
TEST_F(CarAssembleAppTestFixture, ValidateInput_OnRunOrTestPage) {
    std::vector&lt;std::string&gt; exception_inputs = { "-1", "3" };
    for(auto input : exception_inputs) {
        EXPECT_THROW({ app.ValidateInput(input.c_str(), PageEnum::eRunOrTestPage); }, std::invalid_argument);
    }</span>

<span style = "background-color:#dfd">    std::vector&lt;std::string&gt; normal_inputs = { "0", "1", "2" };
    for(auto input : normal_inputs) {
        EXPECT_NO_THROW({ app.ValidateInput(input.c_str(), PageEnum::eRunOrTestPage); });
    }
}
TEST_F(CarAssembleAppTestFixture, NotWorkingSedan) {
    SetSettings(eSedanCar, NONE_SETTING_TYPE, eCONTINENTALBrake, NONE_SETTING_TYPE);</span>

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    app.RunProducedCar();
    std::string actual = ::testing::internal::GetCapturedStdout();
    EXPECT_EQ(actual, "ìëì°¨ê° ëìëì§ ììµëë¤\n");
}
TEST_F(CarAssembleAppTestFixture, NotWorkingSUV) {
    SetSettings(eSUVCar, eTOYOTAEngine, NONE_SETTING_TYPE, NONE_SETTING_TYPE);</span>

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    app.RunProducedCar();
    std::string actual = ::testing::internal::GetCapturedStdout();
    EXPECT_EQ(actual, "ìëì°¨ê° ëìëì§ ììµëë¤\n");
}
TEST_F(CarAssembleAppTestFixture, NotWorkingTruck) {
    SetSettings(eTruckCar, eWIAEngine, NONE_SETTING_TYPE, NONE_SETTING_TYPE);</span>

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    app.RunProducedCar();
    std::string actual = ::testing::internal::GetCapturedStdout();
    EXPECT_EQ(actual, "ìëì°¨ê° ëìëì§ ììµëë¤\n");
}
TEST_F(CarAssembleAppTestFixture, NotWorkingTruck2) {
    SetSettings(eTruckCar, NONE_SETTING_TYPE, eMANDOBrake, NONE_SETTING_TYPE);</span>

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    app.RunProducedCar();
    std::string actual = ::testing::internal::GetCapturedStdout();
    EXPECT_EQ(actual, "ìëì°¨ê° ëìëì§ ììµëë¤\n");
}
TEST_F(CarAssembleAppTestFixture, NotWorkingTruck3) {
    SetSettings(eTruckCar, eWIAEngine, eMANDOBrake, NONE_SETTING_TYPE);</span>

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    app.RunProducedCar();
    std::string actual = ::testing::internal::GetCapturedStdout();
    EXPECT_EQ(actual, "ìëì°¨ê° ëìëì§ ììµëë¤\n");
}
TEST_F(CarAssembleAppTestFixture, NotWorkingBoschBrakeAndSteering) {
    SetSettings(NONE_SETTING_TYPE, NONE_SETTING_TYPE, eBOSCHBrake, eMOBISSteering);</span>

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    app.RunProducedCar();
    std::string actual = ::testing::internal::GetCapturedStdout();
    EXPECT_EQ(actual, "ìëì°¨ê° ëìëì§ ììµëë¤\n");
}
TEST_F(CarAssembleAppTestFixture, NotWorkingUnknownSteeringType) {
    SetSettings(NONE_SETTING_TYPE, NONE_SETTING_TYPE, eBOSCHBrake, NONE_SETTING_TYPE);</span>

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    app.RunProducedCar();
    std::string actual = ::testing::internal::GetCapturedStdout();
    printf("[%s]\n", actual.c_str());
    EXPECT_EQ(actual, "ìëì°¨ê° ëìëì§ ììµëë¤\n");
}
TEST_F(CarAssembleAppTestFixture, NotWorkingBorkenEngine) {
    SetSettings(NONE_SETTING_TYPE, eBrokenEngine, NONE_SETTING_TYPE, NONE_SETTING_TYPE);</span>

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    app.RunProducedCar();
    std::string actual = ::testing::internal::GetCapturedStdout();
    std::string expected =</span>
        "ìì§ì´ ê³ ì¥ëììµëë¤.\n"
        "ìëì°¨ê° ìì§ì´ì§ ììµëë¤.\n";
<span style = "background-color:#dfd">    EXPECT_EQ(actual, expected);
}
TEST_F(CarAssembleAppTestFixture, WorkingCar) {
    SetSettings(eSedanCar, eGMEngine, eMANDOBrake, eBOSCHSteering);</span>

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    app.RunProducedCar();
    std::string actual = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    std::stringstream ss;
    ss &lt;&lt; "Car Type : " &lt;&lt; app.car_type-&gt;GetName() &lt;&lt; "\n";
    ss &lt;&lt; "Engine : " &lt;&lt; app.engine_type-&gt;GetName() &lt;&lt; "\n";
    ss &lt;&lt; "Brake System : " &lt;&lt; app.brake_type-&gt;GetName() &lt;&lt; "\n";
    ss &lt;&lt; "SteeringSystem : " &lt;&lt; app.steering_type-&gt;GetName() &lt;&lt; "\n";
    ss &lt;&lt; "ìëì°¨ê° ëìë©ëë¤.\n";</span>

<span style = "background-color:#dfd">    std::string expected = ss.str();
    EXPECT_EQ(actual, expected);
}
TEST_F(CarAssembleAppTestFixture, PrintChoicePage1) {
    ::testing::internal::CaptureStdout();
    app.pm.PrintPage(PageEnum::eCarTypePage);
    std::string actual = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    std::stringstream ss;
    ss &lt;&lt; CLEAR_SCREEN;
    ss &lt;&lt; ("        ______________\n");
    ss &lt;&lt; ("       /|            | \n");
    ss &lt;&lt; ("  ____/_|_____________|____\n");
    ss &lt;&lt; (" |                      O  |\n");
    ss &lt;&lt; (" '-(@)----------------(@)--'\n");
    ss &lt;&lt; ("===============================\n");
    ss &lt;&lt; ("ì´ë¤ ì°¨ë íìì ì íí ê¹ì?\n");
    ss &lt;&lt; ("1. Sedan\n");
    ss &lt;&lt; ("2. SUV\n");
    ss &lt;&lt; ("3. Truck\n");
    ss &lt;&lt; ("===============================\n");</span>

<span style = "background-color:#dfd">    std::string expected = ss.str();
    EXPECT_EQ(actual, expected);
}
TEST_F(CarAssembleAppTestFixture, PrintChoicePage2) {
    ::testing::internal::CaptureStdout();
    app.pm.PrintPage(PageEnum::eEnginePage);
    std::string actual = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    std::stringstream ss;
    ss &lt;&lt; CLEAR_SCREEN;
    ss &lt;&lt; ("ì´ë¤ ìì§ì íì¬í ê¹ì?\n");
    ss &lt;&lt; ("0. ë¤ë¡ê°ê¸°\n");
    ss &lt;&lt; ("1. GM\n");
    ss &lt;&lt; ("2. TOYOTA\n");
    ss &lt;&lt; ("3. WIA\n");
    ss &lt;&lt; ("4. ê³ ì¥ë ìì§\n");
    ss &lt;&lt; ("===============================\n");</span>

<span style = "background-color:#dfd">    std::string expected = ss.str();
    EXPECT_EQ(actual, expected);
}
TEST_F(CarAssembleAppTestFixture, PrintChoicePage3) {
    ::testing::internal::CaptureStdout();
    app.pm.PrintPage(PageEnum::eBrakePage);
    std::string actual = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    std::stringstream ss;
    ss &lt;&lt; CLEAR_SCREEN;
    ss &lt;&lt; ("ì´ë¤ ì ëì¥ì¹ë¥¼ ì íí ê¹ì?\n");
    ss &lt;&lt; ("0. ë¤ë¡ê°ê¸°\n");
    ss &lt;&lt; ("1. MANDO\n");
    ss &lt;&lt; ("2. CONTINENTAL\n");
    ss &lt;&lt; ("3. BOSCH\n");
    ss &lt;&lt; ("===============================\n");</span>

<span style = "background-color:#dfd">    std::string expected = ss.str();
    EXPECT_EQ(actual, expected);
}
TEST_F(CarAssembleAppTestFixture, PrintChoicePage4) {
    ::testing::internal::CaptureStdout();
    app.pm.PrintPage(PageEnum::eSteeringPage);
    std::string actual = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    std::stringstream ss;
    ss &lt;&lt; CLEAR_SCREEN;
    ss &lt;&lt; ("ì´ë¤ ì¡°í¥ì¥ì¹ë¥¼ ì íí ê¹ì?\n");
    ss &lt;&lt; ("0. ë¤ë¡ê°ê¸°\n");
    ss &lt;&lt; ("1. BOSCH\n");
    ss &lt;&lt; ("2. MOBIS\n");
    ss &lt;&lt; ("===============================\n");</span>

<span style = "background-color:#dfd">    std::string expected = ss.str();
    EXPECT_EQ(actual, expected);
}
TEST_F(CarAssembleAppTestFixture, PrintChoicePage5) {
    ::testing::internal::CaptureStdout();
    app.pm.PrintPage(PageEnum::eRunOrTestPage);
    std::string actual = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    std::stringstream ss;
    ss &lt;&lt; CLEAR_SCREEN;
    ss &lt;&lt; ("ë©ì§ ì°¨ëì´ ìì±ëììµëë¤.\n");
    ss &lt;&lt; ("ì´ë¤ ëìì í ê¹ì?\n");
    ss &lt;&lt; ("0. ì²ì íë©´ì¼ë¡ ëìê°ê¸°\n");
    ss &lt;&lt; ("1. RUN\n");
    ss &lt;&lt; ("2. Test\n");
    ss &lt;&lt; ("===============================\n");</span>

<span style = "background-color:#dfd">    std::string expected = ss.str();
    EXPECT_EQ(actual, expected);
}</span>

<span style = "background-color:#dfd">TEST_F(CarAssembleAppTestFixture, ExitImmediately_PrintsByeAndStops) {
    MockCarAssembleApp app;</span>

    static char s_exit[5] = "exit";
<span style = "background-color:#dfd">    EXPECT_CALL(app, GetInput()).WillOnce(Return(s_exit));</span>

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    EXPECT_THROW({ app.Run(); }, ExitCalled);
    std::string out = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    EXPECT_THAT(out, HasSubstr("ë°ì´ë°ì´"));
}</span>

<span style = "background-color:#dfd">TEST_F(CarAssembleAppTestFixture, FullFlow_TestPass_ThenExit) {
    MockCarAssembleApp app;
    InSequence seq;</span>

    // Sedan(1) â GM(1) â MANDO(1) â BOSCH(1) â Test(2) â exit
    static char s1[] = "1";
    static char s2[] = "1";
    static char s3[] = "1";
    static char s4[] = "1";
    static char s5[] = "2";
    static char s6[] = "exit";

<span style = "background-color:#dfd">    EXPECT_CALL(app, GetInput())</span>
        .WillOnce(Return(s1))
        .WillOnce(Return(s2))
        .WillOnce(Return(s3))
        .WillOnce(Return(s4))
        .WillOnce(Return(s5))
        .WillOnce(Return(s6));

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    EXPECT_THROW(app.Run(), ExitCalled);
    std::string out = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    EXPECT_THAT(out, HasSubstr("ìëì°¨ ë¶í ì¡°í© íì¤í¸ ê²°ê³¼ : PASS"));
    EXPECT_THAT(out, HasSubstr("ë°ì´ë°ì´"));
}</span>

<span style = "background-color:#dfd">TEST_F(CarAssembleAppTestFixture, InvalidInput_ShowsError_ThenExit) {
    MockCarAssembleApp app;
    InSequence seq;</span>

    static char s_bad[]  = "a1";
    static char s_exit[] = "exit";

<span style = "background-color:#dfd">    EXPECT_CALL(app, GetInput())</span>
        .WillOnce(Return(s_bad))
        .WillOnce(Return(s_exit));

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    EXPECT_THROW(app.Run(), ExitCalled);
    std::string out = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    EXPECT_THAT(out, HasSubstr("ERROR :: ì«ìë§ ìë ¥ ê°ë¥"));
    EXPECT_THAT(out, HasSubstr("ë°ì´ë°ì´"));
}</span>

<span style = "background-color:#dfd">TEST_F(CarAssembleAppTestFixture, FullFlow_TestFail_SedanContinentalBrake_ThenExit) {
    MockCarAssembleApp app;
    InSequence seq;</span>

    static char s1[] = "1"; //sedan
    static char s2[] = "1";
    static char s3[] = "2"; //continental
    static char s4[] = "1";
    static char s5[] = "2";
    static char s6[] = "exit";

<span style = "background-color:#dfd">    EXPECT_CALL(app, GetInput())</span>
        .WillOnce(Return(s1))
        .WillOnce(Return(s2))
        .WillOnce(Return(s3))
        .WillOnce(Return(s4))
        .WillOnce(Return(s5))
        .WillOnce(Return(s6));

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    EXPECT_THROW(app.Run(), ExitCalled);
    std::string out = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    EXPECT_THAT(out, HasSubstr("ìëì°¨ ë¶í ì¡°í© íì¤í¸ ê²°ê³¼ : FAIL"));
    EXPECT_THAT(out, HasSubstr("Sedanìë Continentalì ëì¥ì¹ ì¬ì© ë¶ê°"));
    EXPECT_THAT(out, HasSubstr("ë°ì´ë°ì´"));
}</span>

<span style = "background-color:#dfd">TEST_F(CarAssembleAppTestFixture, FullFlow_TestFail_SuvToyotaEngine_ThenExit) {
    MockCarAssembleApp app;
    InSequence seq;</span>

    static char s1[] = "2"; //SUV
    static char s2[] = "2"; //Toyota
    static char s3[] = "1";
    static char s4[] = "1";
    static char s5[] = "2";
    static char s6[] = "exit";

<span style = "background-color:#dfd">    EXPECT_CALL(app, GetInput())</span>
        .WillOnce(Return(s1))
        .WillOnce(Return(s2))
        .WillOnce(Return(s3))
        .WillOnce(Return(s4))
        .WillOnce(Return(s5))
        .WillOnce(Return(s6));

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    EXPECT_THROW(app.Run(), ExitCalled);
    std::string out = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    EXPECT_THAT(out, HasSubstr("ìëì°¨ ë¶í ì¡°í© íì¤í¸ ê²°ê³¼ : FAIL"));
    EXPECT_THAT(out, HasSubstr("SUVìë TOYOTAìì§ ì¬ì© ë¶ê°"));
    EXPECT_THAT(out, HasSubstr("ë°ì´ë°ì´"));
}</span>

<span style = "background-color:#dfd">TEST_F(CarAssembleAppTestFixture, FullFlow_TestFail_TruckWIAEngine_ThenExit) {
    MockCarAssembleApp app;
    InSequence seq;</span>

    static char s1[] = "3"; //Truck
    static char s2[] = "3"; //Toyota
    static char s3[] = "1";
    static char s4[] = "1";
    static char s5[] = "2";
    static char s6[] = "exit";

<span style = "background-color:#dfd">    EXPECT_CALL(app, GetInput())</span>
        .WillOnce(Return(s1))
        .WillOnce(Return(s2))
        .WillOnce(Return(s3))
        .WillOnce(Return(s4))
        .WillOnce(Return(s5))
        .WillOnce(Return(s6));

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    EXPECT_THROW(app.Run(), ExitCalled);
    std::string out = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    EXPECT_THAT(out, HasSubstr("ìëì°¨ ë¶í ì¡°í© íì¤í¸ ê²°ê³¼ : FAIL"));
    EXPECT_THAT(out, HasSubstr("Truckìë WIAìì§ ì¬ì© ë¶ê°"));
    EXPECT_THAT(out, HasSubstr("ë°ì´ë°ì´"));
}</span>

<span style = "background-color:#dfd">TEST_F(CarAssembleAppTestFixture, FullFlow_TestFail_TruckMandoBrake_ThenExit) {
    MockCarAssembleApp app;
    InSequence seq;</span>

    static char s1[] = "3"; //Truck
    static char s2[] = "1"; //Toyota
    static char s3[] = "1"; //Mando
    static char s4[] = "1";
    static char s5[] = "2";
    static char s6[] = "exit";

<span style = "background-color:#dfd">    EXPECT_CALL(app, GetInput())</span>
        .WillOnce(Return(s1))
        .WillOnce(Return(s2))
        .WillOnce(Return(s3))
        .WillOnce(Return(s4))
        .WillOnce(Return(s5))
        .WillOnce(Return(s6));

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    EXPECT_THROW(app.Run(), ExitCalled);
    std::string out = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    EXPECT_THAT(out, HasSubstr("ìëì°¨ ë¶í ì¡°í© íì¤í¸ ê²°ê³¼ : FAIL"));
    EXPECT_THAT(out, HasSubstr("Truckìë Mandoì ëì¥ì¹ ì¬ì© ë¶ê°"));
    EXPECT_THAT(out, HasSubstr("ë°ì´ë°ì´"));
}</span>

<span style = "background-color:#dfd">TEST_F(CarAssembleAppTestFixture, FullFlow_TestFail_BoschBrakeNotBoshSteering_ThenExit) {
    MockCarAssembleApp app;
    InSequence seq;</span>

    static char s1[] = "1";
    static char s2[] = "1";
    static char s3[] = "3"; //bosh brake
    static char s4[] = "2"; //not bosch (mobis) steering
    static char s5[] = "2";
    static char s6[] = "exit";

<span style = "background-color:#dfd">    EXPECT_CALL(app, GetInput())</span>
        .WillOnce(Return(s1))
        .WillOnce(Return(s2))
        .WillOnce(Return(s3))
        .WillOnce(Return(s4))
        .WillOnce(Return(s5))
        .WillOnce(Return(s6));

<span style = "background-color:#dfd">    ::testing::internal::CaptureStdout();
    EXPECT_THROW(app.Run(), ExitCalled);
    std::string out = ::testing::internal::GetCapturedStdout();</span>

<span style = "background-color:#dfd">    EXPECT_THAT(out, HasSubstr("ìëì°¨ ë¶í ì¡°í© íì¤í¸ ê²°ê³¼ : FAIL"));
    EXPECT_THAT(out, HasSubstr("Boschì ëì¥ì¹ìë Boschì¡°í¥ì¥ì¹ ì´ì¸ ì¬ì© ë¶ê°"));
    EXPECT_THAT(out, HasSubstr("ë°ì´ë°ì´"));
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>